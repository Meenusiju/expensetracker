{"ast":null,"code":"import Kapsule from 'kapsule';\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar fitToBox = Kapsule({\n  props: {\n    bbox: {\n      \"default\": {\n        width: null,\n        height: null\n      }\n    },\n    passes: {\n      \"default\": 3\n    }\n  },\n  init: function init(el, state) {\n    state.el = el;\n  },\n  update: function update(state) {\n    _toConsumableArray(Array(state.passes).keys()).some(function () {\n      var startSize = parseInt(state.el.style['font-size'].split('px')[0]) || 20;\n      var bbox = state.el.getBBox();\n      var newSize = Math.floor(startSize * Math.min(state.bbox.width / bbox.width, state.bbox.height / bbox.height));\n      if (newSize === startSize) return true; // Shortcut out\n\n      state.el.style['font-size'] = newSize + 'px';\n    });\n  }\n});\nvar ellipsis = Kapsule({\n  props: {\n    maxWidth: {\n      \"default\": Infinity\n    }\n  },\n  init: function init(el, state) {\n    state.el = el;\n  },\n  update: function update(state) {\n    var origTxt = state.el.textContent;\n    var nChars = Math.round(origTxt.length * state.maxWidth / state.el.getBBox().width * 1.2); // Start above\n\n    while (--nChars && state.maxWidth / state.el.getBBox().width < 1) {\n      state.el.textContent = abbreviateText(origTxt, nChars);\n    } //\n\n\n    function abbreviateText(txt, maxChars) {\n      return txt.length <= maxChars ? txt : txt.substring(0, maxChars * 2 / 3) + '...' + txt.substring(txt.length - maxChars / 3, txt.length);\n    }\n  }\n});\nexport { ellipsis, fitToBox };","map":{"version":3,"sources":["D:/dataviz/d3-pie-chart/expense-tracker/node_modules/svg-text-fit/dist/svg-text-fit.module.js"],"names":["Kapsule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","Symbol","iterator","from","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","len","length","i","arr2","TypeError","fitToBox","props","bbox","width","height","passes","init","el","state","update","keys","some","startSize","parseInt","style","split","getBBox","newSize","Math","floor","min","ellipsis","maxWidth","Infinity","origTxt","textContent","nChars","round","abbreviateText","txt","maxChars","substring"],"mappings":"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","sourcesContent":["import Kapsule from 'kapsule';\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar fitToBox = Kapsule({\n  props: {\n    bbox: {\n      \"default\": {\n        width: null,\n        height: null\n      }\n    },\n    passes: {\n      \"default\": 3\n    }\n  },\n  init: function init(el, state) {\n    state.el = el;\n  },\n  update: function update(state) {\n    _toConsumableArray(Array(state.passes).keys()).some(function () {\n      var startSize = parseInt(state.el.style['font-size'].split('px')[0]) || 20;\n      var bbox = state.el.getBBox();\n      var newSize = Math.floor(startSize * Math.min(state.bbox.width / bbox.width, state.bbox.height / bbox.height));\n      if (newSize === startSize) return true; // Shortcut out\n\n      state.el.style['font-size'] = newSize + 'px';\n    });\n  }\n});\n\nvar ellipsis = Kapsule({\n  props: {\n    maxWidth: {\n      \"default\": Infinity\n    }\n  },\n  init: function init(el, state) {\n    state.el = el;\n  },\n  update: function update(state) {\n    var origTxt = state.el.textContent;\n    var nChars = Math.round(origTxt.length * state.maxWidth / state.el.getBBox().width * 1.2); // Start above\n\n    while (--nChars && state.maxWidth / state.el.getBBox().width < 1) {\n      state.el.textContent = abbreviateText(origTxt, nChars);\n    } //\n\n\n    function abbreviateText(txt, maxChars) {\n      return txt.length <= maxChars ? txt : txt.substring(0, maxChars * 2 / 3) + '...' + txt.substring(txt.length - maxChars / 3, txt.length);\n    }\n  }\n});\n\nexport { ellipsis, fitToBox };\n"]},"metadata":{},"sourceType":"module"}